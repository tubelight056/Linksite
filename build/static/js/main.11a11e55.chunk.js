(this["webpackJsonplinksite-frontend"]=this["webpackJsonplinksite-frontend"]||[]).push([[0],{31:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(32),s=n.n(c),i=n(35),o=n(4),r=n(2),l=n.n(r),u=n(5),d=n(3),j=n(7),m=(n(42),n(0)),p=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(d.a)(i,2),r=o[0],l=o[1],u=Object(a.useState)([]),p=Object(d.a)(u,2),b=p[0],h=p[1],f=new RegExp("^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$");return Object(m.jsx)("div",{className:"louterContainer",children:Object(m.jsxs)("div",{className:"linnerContainer",children:[Object(m.jsx)("h1",{className:"loginh1",children:"Login"}),Object(m.jsxs)("div",{className:"leachItem",children:[Object(m.jsxs)("h1",{className:"lemailLabel",children:["E-mail:",b.includes(1)&&Object(m.jsx)("div",{className:"lbandge",children:Object(m.jsx)("div",{className:"lpulser"})})]}),Object(m.jsx)("input",{className:"lemailInput Input",onChange:function(e){s(e.target.value)},required:!0,onClick:function(){h(b.filter((function(e){return 1!==e})))},type:"email",placeholder:"Type your email"})]}),Object(m.jsxs)("div",{className:"leachItem",children:[Object(m.jsxs)("h1",{className:"lpasswordLabel",children:["Password:",b.includes(2)&&Object(m.jsx)("div",{className:"lbandge",children:Object(m.jsx)("div",{className:"lpulser"})})]}),Object(m.jsx)("input",{className:"passwordInput Input",onChange:function(e){l(e.target.value)},onClick:function(e){h(b.filter((function(e){return 2!==e})))},required:!0,type:"password",placeholder:"Type your password"})]}),Object(m.jsx)("input",{className:"LoginButton lbutton",type:"button",value:"Go in",onClick:function(){return""!==r||b.includes(2)||(e.errorCallBack("Password is missing"),h([].concat(Object(j.a)(b),[2]))),""!==c||b.includes(1)?f.test(c)||(e.errorCallBack("Enter a valid E-mail"),h([].concat(Object(j.a)(b),[1]))):(h([].concat(Object(j.a)(b),[1])),e.errorCallBack("Email is missing")),void(0===b.length&&(s(c.toLowerCase()),e.callBack({email:c,password:r})))}})]})})},b=(n(44),function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(d.a)(i,2),r=o[0],l=o[1],u=Object(a.useState)(""),p=Object(d.a)(u,2),b=p[0],h=p[1],f=Object(a.useState)([]),O=Object(d.a)(f,2),x=O[0],g=O[1],v=new RegExp("^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$"),N=new RegExp("(?=.*[a-z])"),k=new RegExp("(?=.*[A-Z])"),w=new RegExp("(?=.*[!@#$%^&*])"),C=new RegExp("(?=.*[0-9])");return Object(m.jsx)("div",{className:"outerContainer",children:Object(m.jsxs)("div",{className:"innerContainer",children:[Object(m.jsx)("h1",{className:"registerh1",children:"Create an account:"}),Object(m.jsxs)("div",{className:"eachItem",children:[Object(m.jsxs)("h1",{className:"nameLabel",children:["Name:",x.includes(1)&&Object(m.jsx)("div",{className:"bandge",children:Object(m.jsx)("div",{className:"pulser"})})]}),Object(m.jsx)("input",{className:"nameInput Input",onChange:function(e){h(e.target.value)},onClick:function(){g(x.filter((function(e){return 1!==e})))},required:!0,type:"string",placeholder:"This is gonna be your username"})]}),Object(m.jsxs)("div",{className:"eachItem",children:[Object(m.jsxs)("h1",{className:"emailLabel",children:["E-mail:",x.includes(3)&&Object(m.jsx)("div",{className:"bandge",children:Object(m.jsx)("div",{className:"pulser"})})]}),Object(m.jsx)("input",{className:"emailInput Input",onChange:function(e){s(e.target.value)},onClick:function(){g(x.filter((function(e){return 3!==e})))},required:!0,type:"email",placeholder:"Type your email"})]}),Object(m.jsxs)("div",{className:"eachItem",children:[Object(m.jsxs)("h1",{className:"passwordLabel",title:"Password must be at least eight characters long, contain lower case, uppercase, number and symbol character",children:["Password:",x.includes(2)&&Object(m.jsx)("div",{className:"bandge",children:Object(m.jsx)("div",{className:"pulser"})})]}),Object(m.jsx)("input",{className:"passwordInput Input",onChange:function(e){l(e.target.value)},required:!0,onClick:function(){g(x.filter((function(e){return 2!==e})))},placeholder:"It should match exactly Re-mem-ber"})]}),Object(m.jsx)("input",{className:"LoginButton button",type:"button",Value:"Go in",onClick:function(){return""!==r||x.includes(2)?(N.test(r)||x.includes(2))&&(k.test(r)||x.includes(2))&&(C.test(r)||x.includes(2))&&(w.test(r)||x.includes(2))?r.length<8&&!x.includes(2)&&(g([].concat(Object(j.a)(x),[2])),e.errorCallBack("Not a strong password,hover 'Password' to know more")):(g([].concat(Object(j.a)(x),[2])),e.errorCallBack("Not a strong password,hover 'Password' to know more")):(g([].concat(Object(j.a)(x),[2])),e.errorCallBack("Password is missing")),""!==c||x.includes(3)?v.test(c)||x.includes(3)||(e.errorCallBack("Enter a valid E-mail"),g([].concat(Object(j.a)(x),[1]))):(g([].concat(Object(j.a)(x),[3])),e.errorCallBack("Email is missing")),""!==b||x.includes(1)||(g([].concat(Object(j.a)(x),[1])),e.errorCallBack("Your Name is missing")),void(0===x.length&&(h(b.toLowerCase()),s(c.toLowerCase()),e.callBack({name:b,email:c,password:r})))}})]})})}),h=(n(45),n(12)),f=n.n(h),O={API_URL:"https://linksite-backend.herokuapp.com"},x=function(){var e=Object(o.f)(),t=Object(a.useState)("login"),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(null),r=Object(d.a)(i,2),j=r[0],h=r[1],x=Object(a.useState)({left:0,top:0}),g=Object(d.a)(x,2),v=g[0],N=g[1],k=function(e){h(e),setTimeout((function(){h(null)}),[5e3])},w=function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post(O.API_URL+"/user/login",{email:n.email,password:n.password}).then(function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.data.status?(sessionStorage.setItem("email",n.email),sessionStorage.setItem("name",a.data.name),sessionStorage.setItem("id",a.data.id),e.replace("/".concat(a.data.name,"/home/").concat(a.data.id))):k(a.data.statusMessage);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post(O.API_URL+"/user/register",{email:n.email.toLowerCase(),password:n.password,name:n.name}).then(function(){var t=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.data.status?(sessionStorage.setItem("email",n.email.toLowerCase()),sessionStorage.setItem("name",a.data.name),sessionStorage.setItem("id",a.data.id),e.replace("/".concat(a.data.name,"/home/").concat(a.data.id))):k(a.data.statusMessage);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"outerScreen",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("h1",{className:"greetingh1",children:"Welcome to linksite"}),"login"===c?Object(m.jsx)(p,{callBack:function(e){w(e)},errorCallBack:function(e){k(e)}}):Object(m.jsx)(b,{callBack:function(e){C(e)},errorCallBack:function(e){k(e)}}),Object(m.jsx)("p",{className:"formswitcherp",onClick:function(){s("login"===c?"signin":"login")},children:"login"===c?"Don't you have account? Click Me":"Do you have an account? click me"}),null!==j&&Object(m.jsx)("h1",{className:"errorMessageH1",children:"".concat(j)})]}),Object(m.jsxs)("div",{onMouseMove:function(e){return function(e){N({left:e.pageX,top:e.pageY})}(e)},className:"design",children:[Object(m.jsx)("h1",{className:"eascapeh1",children:"You got a follower"}),Object(m.jsx)("div",{style:{left:v.left,top:v.top},className:"circle"})]})]})},g=n(36),v=(n(69),n.p+"static/media/editIcon.ce3d960c.svg"),N=(n(70),n.p+"static/media/deleteIcon.8c23eaf7.ico"),k=function(e){var t=function(){window.open(e.link)};return Object(m.jsx)("div",{className:"outerBoxlinkCard",onClick:function(){"denied"===e.access&&t()},children:Object(m.jsxs)("div",{className:"innerBoxlinkCard",children:[Object(m.jsx)("h1",{onClick:function(){t()},children:e.placeHolder}),"granted"===e.access&&Object(m.jsx)("img",{className:"linkCardDeleteIcon",src:N,alt:"deletebutton",onClick:function(){e.onDeleteCallBack(e.id)}})]})})},w=(n(31),n.p+"static/media/exitIcon.d7016e7f.svg"),C=function(e){var t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(),o=Object(d.a)(i,2),r=o[0],l=o[1];return Object(m.jsx)("div",{className:"body",children:Object(m.jsxs)("div",{className:"outerModelUpScreen",children:[Object(m.jsx)("img",{className:"modeulUpExitIcon",src:w,alt:"exit",onClick:function(){e.onReturnCallBack()}}),Object(m.jsxs)("div",{className:"innerModelUpScreen",children:[Object(m.jsxs)("div",{className:"eachBox",children:[Object(m.jsx)("h3",{className:"questionLabel",children:"Link Name:"}),Object(m.jsx)("input",{type:"text",onChange:function(e){l(e.target.value)},placeholder:"Type Link name"})]}),Object(m.jsxs)("div",{className:"eachBox",children:[Object(m.jsx)("h3",{className:"questionLabel",children:"Link:"}),Object(m.jsx)("input",{type:"url",onChange:function(e){s(e.target.value)},placeholder:"Paste your Link Here"})]}),Object(m.jsx)("input",{type:"button",value:"Submit",className:"modelButton",onClick:function(){void 0!==c&&""!==c&&""!==r&&void 0!==r?e.onSubmitCallBack({link:c,placeHolder:r}):e.onErrorCallBack("All fields are required")}})]})]})})},I=function(e){var t=Object(a.useState)(e.collectionName),n=Object(d.a)(t,2),c=n[0],s=n[1];return Object(m.jsx)("div",{className:"body",children:Object(m.jsxs)("div",{className:"outerModelUpScreen",children:[Object(m.jsx)("img",{className:"modeulUpExitIcon",src:w,alt:"exit",onClick:function(){e.onReturnCallBack()}}),Object(m.jsxs)("div",{className:"innerModelUpScreen",children:[Object(m.jsxs)("div",{className:"eachBox",children:[Object(m.jsx)("h3",{className:"questionLabel",children:"Edit Collection Name:"}),Object(m.jsx)("input",{type:"text",onChange:function(e){s(e.target.value)},placeholder:e.collectionName})]}),Object(m.jsx)("input",{type:"button",value:"Submit",className:"modelButton",onClick:function(){""!==c?e.onSubmitCallBack(c):e.onErrorCallBack("All fields are required")}})]})]})})},S=function(e){var t=e.match.params.id,n=Object(a.useState)(),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)([]),r=Object(d.a)(o,2),p=r[0],b=r[1],h=Object(a.useState)("denied"),x=Object(d.a)(h,2),N=x[0],w=x[1],S=Object(a.useState)(""),y=Object(d.a)(S,2),B=y[0],L=y[1],A=Object(a.useState)(0),E=Object(d.a)(A,2),R=E[0],P=E[1],M=Object(a.useState)(null),U=Object(d.a)(M,2),_=U[0],H=U[1],q=Object(a.useState)(null),T=Object(d.a)(q,2),D=T[0],z=T[1],Z=function(e){H(e),setTimeout((function(){H(null)}),[5e3])},F=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/collection/getcollection",Object(g.a)({collectionId:t},sessionStorage.getItem("id")&&{id:sessionStorage.getItem("id")})).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.status){e.next=9;break}return w(t.data.access),i(t.data.name),L(t.data.collectionName),e.next=6,b(Object(j.a)(t.data.Links));case 6:"granted"===N&&P(t.data.viewCounts),e.next=10;break;case 9:Z(t.data.statusMessage);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Z("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/collection/addlink",{id:sessionStorage.getItem("id"),collectionId:t,linkName:n.placeHolder,link:n.link}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?F():Z(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Z("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/collection/removelink",{id:sessionStorage.getItem("id"),collectionId:t,linkId:n}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?F():Z(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Z("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/collection/updatecollection",{id:sessionStorage.getItem("id"),collectionId:t,collectionName:n}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?F():Z(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Z("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){F()})),Object(m.jsxs)("div",{className:"outerCollectionScreen",children:[Object(m.jsxs)("div",{className:"innerCollectionScreen",children:[Object(m.jsx)("h1",{className:"collectionNameH1",children:s}),Object(m.jsxs)("p",{className:"collectionNameH4",children:[B,"granted"===N&&Object(m.jsx)("img",{className:"editIcon",src:v,alt:"edit icon",onClick:function(){z("update")}})]}),"granted"===N&&Object(m.jsxs)("div",{className:"infoBox",children:[Object(m.jsx)("button",{className:"collectionButton",onClick:function(){var e="http://localhost:3000/collection/".concat(t);navigator.clipboard.writeText(e),Z("Link copied with kind")},children:"Copy link!"}),Object(m.jsxs)("h4",{className:"countInfo",children:["views:",R]})]}),p.map((function(e){return Object(m.jsx)(k,{id:e._id,link:e.link,access:N,placeHolder:e.placeHolder,onDeleteCallBack:function(e){W(e)}})})),"granted"===N&&Object(m.jsx)("div",{className:"outerBoxCollectionAdd",onClick:function(){z("addLink")},children:Object(m.jsx)("div",{className:"innerBoxCollectionAdd",children:Object(m.jsx)("h1",{children:"Add Link"})})}),"addLink"===D&&Object(m.jsx)(C,{onReturnCallBack:function(){z(null)},onSubmitCallBack:function(e){$(e),z(null)},onErrorCallBack:function(e){Z(e)}}),"update"===D&&Object(m.jsx)(I,{onReturnCallBack:function(){z(null)},onSubmitCallBack:function(e){Y(e),z(null)},onErrorCallBack:function(e){Z(e)}})]}),null!==_&&Object(m.jsx)("h1",{className:"errorMessageH1Collection",children:"".concat(_)})]})},y=(n(71),n.p+"static/media/deleteIcon.8c23eaf7.ico"),B=function(e){return Object(m.jsx)("div",{className:"outerBoxCollectionCard",children:Object(m.jsxs)("div",{className:"innerBoxCollectionCard",children:[Object(m.jsx)("h1",{onClick:function(){e.onSelectCallBack({collectionName:e.collectionName,id:e.id})},children:e.collectionName}),Object(m.jsx)("img",{className:"collectionCardDeleteIcon",src:y,alt:"deletebutton",onClick:function(){e.onDeleteCallBack({collectionName:e.collectionName,id:e.id})}})]})})},L=(n(72),n.p+"static/media/addIcon.4addf6eb.ico"),A=function(e){var t=Object(o.f)(),n=e.match.params,c=Object(a.useState)([]),s=Object(d.a)(c,2),i=s[0],r=s[1],p=Object(a.useState)(null),b=Object(d.a)(p,2),h=b[0],x=b[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),N=v[0],k=v[1],w=sessionStorage.getItem("email"),C=function(e){x(e),setTimeout((function(){x(null)}),[5e3])},I=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/user/getcollectionlist",{id:n.id,email:w}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?r(Object(j.a)(t.data.collections)):C(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==N){e.next=4;break}C("Enter a Valid Collection Name"),e.next=6;break;case 4:return e.next=6,f.a.post(O.API_URL+"/collection/createcollection",{id:n.id,email:w,collectionName:N}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?(I(),k("")):C(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C("Something went wrong , please try again")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(O.API_URL+"/collection/deletecollection",{id:n.id,email:w,collectionId:t.id}).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.status?I():C(t.data.statusMessage);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){C("Something went wrong , please try again")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I()})),Object(m.jsxs)("div",{className:"homeOuterScreen",children:[Object(m.jsxs)("div",{className:"homeInnerScreen",children:[Object(m.jsx)("h1",{className:"welcomeh1",children:"Welcome Prem ,Here your Collections"}),i!==[]&&i.map((function(e){return Object(m.jsx)(B,{collectionName:e.collectionName,id:e._id,onDeleteCallBack:function(e){y(e)},onSelectCallBack:function(e){!function(e){t.push("/collection/".concat(e.id))}(e)}},e._id)})),Object(m.jsx)("div",{className:"outerBoxAddContainer",children:Object(m.jsxs)("div",{className:"addCollection",children:[Object(m.jsx)("input",{className:"homeInput",type:"text",name:"Collection",placeholder:"Add Collection",value:N,onChange:function(e){k(e.target.value)}}),Object(m.jsx)("img",{src:L,alt:"add button",className:"HomeAddIcon",onClick:function(){S()}})]})})]}),null!==h&&Object(m.jsx)("h1",{className:"errorMessageH1Home",children:"".concat(h)})]})},E=(n(73),function(){return Object(m.jsx)("div",{className:"OuterContainerNotFound",children:Object(m.jsxs)("div",{className:"InnerContainerNotFound",children:[Object(m.jsxs)("h1",{className:"h1NotFound",children:[Object(m.jsx)("span",{className:"wowtext",children:"W0W!!!"}),"You gave me a link which I don't have \ud83d\ude0d"]}),Object(m.jsx)("p",{className:"pNotFound",children:'In simple terms : " Page Not Found : 404 error , try again "'})]})})}),R=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:x}),Object(m.jsx)(o.a,{exact:!0,path:"/:name/home/:id",component:A}),Object(m.jsx)(o.a,{exact:!0,path:"/collection/:id",component:S}),Object(m.jsx)(o.a,{component:E})]})})};s.a.render(Object(m.jsx)(R,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.11a11e55.chunk.js.map