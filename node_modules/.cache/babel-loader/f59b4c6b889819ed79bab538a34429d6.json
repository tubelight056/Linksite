{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prem\\\\Documents\\\\Projects\\\\Linksite-production\\\\src\\\\screens\\\\home\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Collectioncard from \"../../components/collectioncard/CollectionCard\";\nimport \"./Home.css\";\nimport AddIcon from \"./addIcon.ico\";\nimport { useHistory } from \"react-router\";\nimport config from \"../../url\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const history = useHistory();\n  const params = props.match.params;\n  const [collectionList, setcollectionList] = useState([]);\n  const [errorMessage, seterrorMessage] = useState(null);\n  const [newCollection, setNewCollection] = useState(\"\");\n  const email = sessionStorage.getItem(\"email\");\n\n  const onErrorHandler = data => {\n    seterrorMessage(data);\n    setTimeout(() => {\n      seterrorMessage(null);\n    }, [5000]);\n  };\n\n  const getCollectionListHandler = async () => {\n    await axios.post(config.API_URL + \"/user/getcollectionlist\", {\n      id: params.id,\n      email: email\n    }).then(async data => {\n      if (data.data.status) {\n        setcollectionList([...data.data.collections]);\n      } else {\n        onErrorHandler(data.data.statusMessage);\n      }\n    }).catch(err => {\n      onErrorHandler(\"Something went wrong , please try again\");\n    });\n  };\n\n  const onSelectHandler = data => {\n    history.push(`/collection/${data.id}`);\n  };\n\n  const onCreateHandler = async () => {\n    if (newCollection === \"\") {\n      onErrorHandler(\"Enter a Valid Collection Name\");\n    } else {\n      await axios.post(config.API_URL + \"/collection/createcollection\", {\n        id: params.id,\n        email: email,\n        collectionName: newCollection\n      }).then(async data => {\n        if (data.data.status) {\n          getCollectionListHandler();\n          setNewCollection(\"\");\n        } else {\n          onErrorHandler(data.data.statusMessage);\n        }\n      }).catch(err => {\n        onErrorHandler(\"Something went wrong , please try again\");\n      });\n    }\n  };\n\n  const onDeleteHandler = async data => {\n    await axios.post(config.API_URL + \"/collection/deletecollection\", {\n      id: params.id,\n      email: email,\n      collectionId: data.id\n    }).then(async data => {\n      if (data.data.status) {\n        getCollectionListHandler();\n      } else {\n        onErrorHandler(data.data.statusMessage);\n      }\n    }).catch(err => {\n      onErrorHandler(\"Something went wrong , please try again\");\n    });\n  };\n\n  useEffect(() => {\n    getCollectionListHandler();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homeOuterScreen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homeInnerScreen\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"welcomeh1\",\n        children: \"Welcome Prem ,Here your Collections\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), collectionList !== [] && collectionList.map(data => /*#__PURE__*/_jsxDEV(Collectioncard, {\n        collectionName: data.collectionName,\n        id: data._id,\n        onDeleteCallBack: data => {\n          onDeleteHandler(data);\n        },\n        onSelectCallBack: data => {\n          onSelectHandler(data);\n        }\n      }, data._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"outerBoxAddContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addCollection\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"homeInput\",\n            type: \"text\",\n            name: \"Collection\",\n            placeholder: \"Add Collection\",\n            value: newCollection,\n            onChange: e => {\n              setNewCollection(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: AddIcon,\n            alt: \"add button\",\n            className: \"HomeAddIcon\",\n            onClick: () => {\n              onCreateHandler();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), errorMessage !== null && /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"errorMessageH1Home\",\n      children: `${errorMessage}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"oSoCZ0K6KJy9Osd0sUnOsGGZOzg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/Prem/Documents/Projects/Linksite-production/src/screens/home/Home.js"],"names":["axios","React","useEffect","useState","Collectioncard","AddIcon","useHistory","config","Home","props","history","params","match","collectionList","setcollectionList","errorMessage","seterrorMessage","newCollection","setNewCollection","email","sessionStorage","getItem","onErrorHandler","data","setTimeout","getCollectionListHandler","post","API_URL","id","then","status","collections","statusMessage","catch","err","onSelectHandler","push","onCreateHandler","collectionName","onDeleteHandler","collectionId","map","_id","e","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Collectioncard from \"../../components/collectioncard/CollectionCard\";\r\nimport \"./Home.css\";\r\nimport AddIcon from \"./addIcon.ico\";\r\nimport { useHistory } from \"react-router\";\r\nimport config from \"../../url\";\r\n\r\nconst Home = (props) => {\r\n  const history = useHistory();\r\n  const params = props.match.params;\r\n  const [collectionList, setcollectionList] = useState([]);\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n  const [newCollection, setNewCollection] = useState(\"\");\r\n  const email = sessionStorage.getItem(\"email\");\r\n\r\n  const onErrorHandler = (data) => {\r\n    seterrorMessage(data);\r\n    setTimeout(() => {\r\n      seterrorMessage(null);\r\n    }, [5000]);\r\n  };\r\n  const getCollectionListHandler = async () => {\r\n    await axios\r\n      .post(config.API_URL + \"/user/getcollectionlist\", {\r\n        id: params.id,\r\n        email: email,\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          setcollectionList([...data.data.collections]);\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n  const onSelectHandler = (data) => {\r\n    history.push(`/collection/${data.id}`);\r\n  };\r\n  const onCreateHandler = async () => {\r\n    if (newCollection === \"\") {\r\n      onErrorHandler(\"Enter a Valid Collection Name\");\r\n    } else {\r\n      await axios\r\n        .post(config.API_URL + \"/collection/createcollection\", {\r\n          id: params.id,\r\n          email: email,\r\n          collectionName: newCollection,\r\n        })\r\n        .then(async (data) => {\r\n          if (data.data.status) {\r\n            getCollectionListHandler();\r\n            setNewCollection(\"\");\r\n          } else {\r\n            onErrorHandler(data.data.statusMessage);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          onErrorHandler(\"Something went wrong , please try again\");\r\n        });\r\n    }\r\n  };\r\n  const onDeleteHandler = async (data) => {\r\n    await axios\r\n      .post(config.API_URL + \"/collection/deletecollection\", {\r\n        id: params.id,\r\n        email: email,\r\n        collectionId: data.id,\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          getCollectionListHandler();\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getCollectionListHandler();\r\n  });\r\n  return (\r\n    <div className=\"homeOuterScreen\">\r\n      <div className=\"homeInnerScreen\">\r\n        <h1 className=\"welcomeh1\">Welcome Prem ,Here your Collections</h1>\r\n        {collectionList !== [] &&\r\n          collectionList.map((data) => (\r\n            <Collectioncard\r\n              key={data._id}\r\n              collectionName={data.collectionName}\r\n              id={data._id}\r\n              onDeleteCallBack={(data) => {\r\n                onDeleteHandler(data);\r\n              }}\r\n              onSelectCallBack={(data) => {\r\n                onSelectHandler(data);\r\n              }}\r\n            />\r\n          ))}\r\n        <div className=\"outerBoxAddContainer\">\r\n          <div className=\"addCollection\">\r\n            <input\r\n              className=\"homeInput\"\r\n              type=\"text\"\r\n              name=\"Collection\"\r\n              placeholder=\"Add Collection\"\r\n              value={newCollection}\r\n              onChange={(e) => {\r\n                setNewCollection(e.target.value);\r\n              }}\r\n            />\r\n            <img\r\n              src={AddIcon}\r\n              alt=\"add button\"\r\n              className=\"HomeAddIcon\"\r\n              onClick={() => {\r\n                onCreateHandler();\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {errorMessage !== null && (\r\n        <h1 className=\"errorMessageH1Home\">{`${errorMessage}`}</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}