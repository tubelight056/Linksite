{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Prem\\\\Documents\\\\Projects\\\\Linksite-production\\\\src\\\\screens\\\\authentication\\\\authentication.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Login from \"../../components/Login/Login.js\";\nimport Register from \"../../components/Register/Register.js\";\nimport { useHistory } from \"react-router\";\nimport \"./authentication.css\";\nimport axios from \"axios\";\nimport config from \"../../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Authentication = () => {\n  _s();\n\n  const history = useHistory();\n  const [typeOfAuth, setTypeOfAuth] = useState(\"login\");\n  const [errorMessage, seterrorMessage] = useState(null);\n  const [MousePosition, setMousePosition] = useState({\n    left: 0,\n    top: 0\n  });\n\n  const onErrorHandler = data => {\n    seterrorMessage(data);\n    setTimeout(() => {\n      seterrorMessage(null);\n    }, [5000]);\n  };\n\n  const onLoginHandler = async loginData => {\n    await axios.post(config.API_URL + \"/user/login\", {\n      email: loginData.email,\n      password: loginData.password\n    }).then(async data => {\n      if (!data.data.status) {\n        onErrorHandler(data.data.statusMessage);\n      } else {\n        sessionStorage.setItem(\"email\", loginData.email);\n        sessionStorage.setItem(\"name\", data.data.name);\n        sessionStorage.setItem(\"id\", data.data.id);\n        history.replace(`/${data.data.name}/home/${data.data.id}`);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const onRegisterHandler = async Rdata => {\n    await axios.post(config.API_URL + \"/user/register\", {\n      email: Rdata.email.toLowerCase(),\n      password: Rdata.password,\n      name: Rdata.name\n    }).then(async data => {\n      if (!data.data.status) {\n        onErrorHandler(data.data.statusMessage);\n      } else {\n        sessionStorage.setItem(\"email\", Rdata.email.toLowerCase());\n        sessionStorage.setItem(\"name\", data.data.name);\n        sessionStorage.setItem(\"id\", data.data.id);\n        history.replace(`/${data.data.name}/home/${data.data.id}`);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  function handleMouseMove(ev) {\n    setMousePosition({\n      left: ev.pageX,\n      top: ev.pageY\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outerScreen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"greetingh1\",\n        children: \"Welcome to linksite\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), typeOfAuth === \"login\" ? /*#__PURE__*/_jsxDEV(Login, {\n        callBack: data => {\n          onLoginHandler(data);\n        },\n        errorCallBack: data => {\n          onErrorHandler(data);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Register, {\n        callBack: data => {\n          onRegisterHandler(data);\n        },\n        errorCallBack: data => {\n          onErrorHandler(data);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"formswitcherp\",\n        onClick: () => {\n          setTypeOfAuth(typeOfAuth === \"login\" ? \"signin\" : \"login\");\n        },\n        children: typeOfAuth === \"login\" ? \"Don't you have account? Click Me\" : \"Do you have an account? click me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), errorMessage !== null && /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"errorMessageH1\",\n        children: `${errorMessage}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onMouseMove: ev => handleMouseMove(ev),\n      className: \"design\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"eascapeh1\",\n        children: \"You got a follower\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          left: MousePosition.left,\n          top: MousePosition.top\n        },\n        className: \"circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Authentication, \"j1CHeGouDbF4TXfRiul5mUyFJn8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Authentication;\nexport default Authentication;\n\nvar _c;\n\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"sources":["C:/Users/Prem/Documents/Projects/Linksite-production/src/screens/authentication/authentication.js"],"names":["React","useState","Login","Register","useHistory","axios","config","Authentication","history","typeOfAuth","setTypeOfAuth","errorMessage","seterrorMessage","MousePosition","setMousePosition","left","top","onErrorHandler","data","setTimeout","onLoginHandler","loginData","post","API_URL","email","password","then","status","statusMessage","sessionStorage","setItem","name","id","replace","catch","err","console","log","onRegisterHandler","Rdata","toLowerCase","handleMouseMove","ev","pageX","pageY"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Login from \"../../components/Login/Login.js\";\r\nimport Register from \"../../components/Register/Register.js\";\r\nimport { useHistory } from \"react-router\";\r\nimport \"./authentication.css\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\n\r\nconst Authentication = () => {\r\n  const history = useHistory();\r\n  const [typeOfAuth, setTypeOfAuth] = useState(\"login\");\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n  const [MousePosition, setMousePosition] = useState({\r\n    left: 0,\r\n    top: 0,\r\n  });\r\n\r\n  const onErrorHandler = (data) => {\r\n    seterrorMessage(data);\r\n    setTimeout(() => {\r\n      seterrorMessage(null);\r\n    }, [5000]);\r\n  };\r\n\r\n  const onLoginHandler = async (loginData) => {\r\n    await axios\r\n      .post(config.API_URL + \"/user/login\", {\r\n        email: loginData.email,\r\n        password: loginData.password,\r\n      })\r\n      .then(async (data) => {\r\n        if (!data.data.status) {\r\n          onErrorHandler(data.data.statusMessage);\r\n        } else {\r\n          sessionStorage.setItem(\"email\", loginData.email);\r\n          sessionStorage.setItem(\"name\", data.data.name);\r\n          sessionStorage.setItem(\"id\", data.data.id);\r\n          history.replace(`/${data.data.name}/home/${data.data.id}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const onRegisterHandler = async (Rdata) => {\r\n    await axios\r\n      .post(config.API_URL + \"/user/register\", {\r\n        email: Rdata.email.toLowerCase(),\r\n        password: Rdata.password,\r\n        name: Rdata.name,\r\n      })\r\n      .then(async (data) => {\r\n        if (!data.data.status) {\r\n          onErrorHandler(data.data.statusMessage);\r\n        } else {\r\n          sessionStorage.setItem(\"email\", Rdata.email.toLowerCase());\r\n          sessionStorage.setItem(\"name\", data.data.name);\r\n          sessionStorage.setItem(\"id\", data.data.id);\r\n          history.replace(`/${data.data.name}/home/${data.data.id}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  function handleMouseMove(ev) {\r\n    setMousePosition({ left: ev.pageX, top: ev.pageY });\r\n  }\r\n\r\n  return (\r\n    <div className=\"outerScreen\">\r\n      <div className=\"content\">\r\n        <h1 className=\"greetingh1\">Welcome to linksite</h1>\r\n        {typeOfAuth === \"login\" ? (\r\n          <Login\r\n            callBack={(data) => {\r\n              onLoginHandler(data);\r\n            }}\r\n            errorCallBack={(data) => {\r\n              onErrorHandler(data);\r\n            }}\r\n          />\r\n        ) : (\r\n          <Register\r\n            callBack={(data) => {\r\n              onRegisterHandler(data);\r\n            }}\r\n            errorCallBack={(data) => {\r\n              onErrorHandler(data);\r\n            }}\r\n          />\r\n        )}\r\n        <p\r\n          className=\"formswitcherp\"\r\n          onClick={() => {\r\n            setTypeOfAuth(typeOfAuth === \"login\" ? \"signin\" : \"login\");\r\n          }}\r\n        >\r\n          {typeOfAuth === \"login\"\r\n            ? \"Don't you have account? Click Me\"\r\n            : \"Do you have an account? click me\"}\r\n        </p>\r\n        {errorMessage !== null && (\r\n          <h1 className=\"errorMessageH1\">{`${errorMessage}`}</h1>\r\n        )}\r\n      </div>\r\n      <div onMouseMove={(ev) => handleMouseMove(ev)} className=\"design\">\r\n        <h1 className=\"eascapeh1\">You got a follower</h1>\r\n        <div\r\n          style={{\r\n            left: MousePosition.left,\r\n            top: MousePosition.top,\r\n          }}\r\n          className=\"circle\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n"]},"metadata":{},"sourceType":"module"}