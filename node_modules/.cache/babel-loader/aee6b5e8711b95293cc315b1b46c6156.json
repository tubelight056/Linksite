{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Login from\"../../components/Login/Login.js\";import Register from\"../../components/Register/Register.js\";import{useHistory}from\"react-router\";import\"./authentication.css\";import axios from\"axios\";import config from\"../../url\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authentication=function Authentication(){var history=useHistory();var _useState=useState(\"login\"),_useState2=_slicedToArray(_useState,2),typeOfAuth=_useState2[0],setTypeOfAuth=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],seterrorMessage=_useState4[1];var _useState5=useState({left:0,top:0}),_useState6=_slicedToArray(_useState5,2),MousePosition=_useState6[0],setMousePosition=_useState6[1];var onErrorHandler=function onErrorHandler(data){seterrorMessage(data);setTimeout(function(){seterrorMessage(null);},[5000]);};var onLoginHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(loginData){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(config.API_URL+\"/user/login\",{email:loginData.email,password:loginData.password}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!data.data.status){onErrorHandler(data.data.statusMessage);}else{sessionStorage.setItem(\"email\",loginData.email);sessionStorage.setItem(\"name\",data.data.name);sessionStorage.setItem(\"id\",data.data.id);history.replace(\"/\".concat(data.data.name,\"/home/\").concat(data.data.id));}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(err){console.log(err);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function onLoginHandler(_x){return _ref.apply(this,arguments);};}();var onRegisterHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(Rdata){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(config.API_URL+\"/user/register\",{email:Rdata.email.toLowerCase(),password:Rdata.password,name:Rdata.name}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!data.data.status){onErrorHandler(data.data.statusMessage);}else{sessionStorage.setItem(\"email\",Rdata.email.toLowerCase());sessionStorage.setItem(\"name\",data.data.name);sessionStorage.setItem(\"id\",data.data.id);history.replace(\"/\".concat(data.data.name,\"/home/\").concat(data.data.id));}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref4.apply(this,arguments);};}()).catch(function(err){console.log(err);});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function onRegisterHandler(_x3){return _ref3.apply(this,arguments);};}();function handleMouseMove(ev){setMousePosition({left:ev.pageX,top:ev.pageY});}return/*#__PURE__*/_jsxs(\"div\",{className:\"outerScreen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"greetingh1\",children:\"Welcome to linksite\"}),typeOfAuth===\"login\"?/*#__PURE__*/_jsx(Login,{callBack:function callBack(data){onLoginHandler(data);},errorCallBack:function errorCallBack(data){onErrorHandler(data);}}):/*#__PURE__*/_jsx(Register,{callBack:function callBack(data){onRegisterHandler(data);},errorCallBack:function errorCallBack(data){onErrorHandler(data);}}),/*#__PURE__*/_jsx(\"p\",{className:\"formswitcherp\",onClick:function onClick(){setTypeOfAuth(typeOfAuth===\"login\"?\"signin\":\"login\");},children:typeOfAuth===\"login\"?\"Don't you have account? Click Me\":\"Do you have an account? click me\"}),errorMessage!==null&&/*#__PURE__*/_jsx(\"h1\",{className:\"errorMessageH1\",children:\"\".concat(errorMessage)})]}),/*#__PURE__*/_jsxs(\"div\",{onMouseMove:function onMouseMove(ev){return handleMouseMove(ev);},className:\"design\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"eascapeh1\",children:\"You got a follower\"}),/*#__PURE__*/_jsx(\"div\",{style:{left:MousePosition.left,top:MousePosition.top},className:\"circle\"})]})]});};export default Authentication;","map":{"version":3,"sources":["C:/Users/Prem/Documents/Projects/Linksite-production/src/screens/authentication/authentication.js"],"names":["React","useState","Login","Register","useHistory","axios","config","Authentication","history","typeOfAuth","setTypeOfAuth","errorMessage","seterrorMessage","left","top","MousePosition","setMousePosition","onErrorHandler","data","setTimeout","onLoginHandler","loginData","post","API_URL","email","password","then","status","statusMessage","sessionStorage","setItem","name","id","replace","catch","err","console","log","onRegisterHandler","Rdata","toLowerCase","handleMouseMove","ev","pageX","pageY"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Login from \"../../components/Login/Login.js\";\r\nimport Register from \"../../components/Register/Register.js\";\r\nimport { useHistory } from \"react-router\";\r\nimport \"./authentication.css\";\r\nimport axios from \"axios\";\r\nimport config from \"../../url\";\r\n\r\nconst Authentication = () => {\r\n  const history = useHistory();\r\n  const [typeOfAuth, setTypeOfAuth] = useState(\"login\");\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n  const [MousePosition, setMousePosition] = useState({\r\n    left: 0,\r\n    top: 0,\r\n  });\r\n\r\n  const onErrorHandler = (data) => {\r\n    seterrorMessage(data);\r\n    setTimeout(() => {\r\n      seterrorMessage(null);\r\n    }, [5000]);\r\n  };\r\n\r\n  const onLoginHandler = async (loginData) => {\r\n    await axios\r\n      .post(config.API_URL + \"/user/login\", {\r\n        email: loginData.email,\r\n        password: loginData.password,\r\n      })\r\n      .then(async (data) => {\r\n        if (!data.data.status) {\r\n          onErrorHandler(data.data.statusMessage);\r\n        } else {\r\n          sessionStorage.setItem(\"email\", loginData.email);\r\n          sessionStorage.setItem(\"name\", data.data.name);\r\n          sessionStorage.setItem(\"id\", data.data.id);\r\n          history.replace(`/${data.data.name}/home/${data.data.id}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const onRegisterHandler = async (Rdata) => {\r\n    await axios\r\n      .post(config.API_URL + \"/user/register\", {\r\n        email: Rdata.email.toLowerCase(),\r\n        password: Rdata.password,\r\n        name: Rdata.name,\r\n      })\r\n      .then(async (data) => {\r\n        if (!data.data.status) {\r\n          onErrorHandler(data.data.statusMessage);\r\n        } else {\r\n          sessionStorage.setItem(\"email\", Rdata.email.toLowerCase());\r\n          sessionStorage.setItem(\"name\", data.data.name);\r\n          sessionStorage.setItem(\"id\", data.data.id);\r\n          history.replace(`/${data.data.name}/home/${data.data.id}`);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  function handleMouseMove(ev) {\r\n    setMousePosition({ left: ev.pageX, top: ev.pageY });\r\n  }\r\n\r\n  return (\r\n    <div className=\"outerScreen\">\r\n      <div className=\"content\">\r\n        <h1 className=\"greetingh1\">Welcome to linksite</h1>\r\n        {typeOfAuth === \"login\" ? (\r\n          <Login\r\n            callBack={(data) => {\r\n              onLoginHandler(data);\r\n            }}\r\n            errorCallBack={(data) => {\r\n              onErrorHandler(data);\r\n            }}\r\n          />\r\n        ) : (\r\n          <Register\r\n            callBack={(data) => {\r\n              onRegisterHandler(data);\r\n            }}\r\n            errorCallBack={(data) => {\r\n              onErrorHandler(data);\r\n            }}\r\n          />\r\n        )}\r\n        <p\r\n          className=\"formswitcherp\"\r\n          onClick={() => {\r\n            setTypeOfAuth(typeOfAuth === \"login\" ? \"signin\" : \"login\");\r\n          }}\r\n        >\r\n          {typeOfAuth === \"login\"\r\n            ? \"Don't you have account? Click Me\"\r\n            : \"Do you have an account? click me\"}\r\n        </p>\r\n        {errorMessage !== null && (\r\n          <h1 className=\"errorMessageH1\">{`${errorMessage}`}</h1>\r\n        )}\r\n      </div>\r\n      <div onMouseMove={(ev) => handleMouseMove(ev)} className=\"design\">\r\n        <h1 className=\"eascapeh1\">You got a follower</h1>\r\n        <div\r\n          style={{\r\n            left: MousePosition.left,\r\n            top: MousePosition.top,\r\n          }}\r\n          className=\"circle\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n"]},"metadata":{},"sourceType":"module"}