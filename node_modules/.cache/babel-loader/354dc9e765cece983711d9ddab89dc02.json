{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Prem/Documents/Projects/Linksite-production/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"./collectionScreen.css\";import EditIcon from\"./editIcon.svg\";import LinkCard from\"../../components/LinkCard/LinkCard\";import ModelUpForAdd from\"../../components/modelUp/modelUpForAdd\";import ModelUpForUpdate from\"../../components/modelUp/modelUpForUpdate\";import config from\"../../config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Collectionscreen=function Collectionscreen(props){var collectionId=props.match.params.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),linkList=_useState4[0],setLinkList=_useState4[1];var _useState5=useState(\"denied\"),_useState6=_slicedToArray(_useState5,2),access=_useState6[0],setAccess=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),collectionName=_useState8[0],setCollectionName=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),viewCounts=_useState10[0],setViewCounts=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),errorMessage=_useState12[0],seterrorMessage=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),state=_useState14[0],setstate=_useState14[1];var onErrorHandler=function onErrorHandler(data){seterrorMessage(data);setTimeout(function(){seterrorMessage(null);},[5000]);};var getCollectionHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(config.API_URL+\"/collection/getcollection\",_objectSpread({collectionId:collectionId},sessionStorage.getItem(\"id\")&&{id:sessionStorage.getItem(\"id\")})).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!data.data.status){_context.next=9;break;}setAccess(data.data.access);setName(data.data.name);setCollectionName(data.data.collectionName);_context.next=6;return setLinkList(_toConsumableArray(data.data.Links));case 6:if(access===\"granted\"){setViewCounts(data.data.viewCounts);}_context.next=10;break;case 9:onErrorHandler(data.data.statusMessage);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(err){onErrorHandler(\"Something went wrong , please try again\");});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getCollectionHandler(){return _ref.apply(this,arguments);};}();var onAddingNewLinkHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(props){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(config.API_URL+\"/collection/addlink\",{id:sessionStorage.getItem(\"id\"),collectionId:collectionId,linkName:props.placeHolder,link:props.link}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(data.data.status){getCollectionHandler();}else{onErrorHandler(data.data.statusMessage);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}()).catch(function(err){onErrorHandler(\"Something went wrong , please try again\");});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function onAddingNewLinkHandler(_x2){return _ref3.apply(this,arguments);};}();var onLinkDeleteHandler=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(props){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.post(config.API_URL+\"/collection/removelink\",{id:sessionStorage.getItem(\"id\"),collectionId:collectionId,linkId:props}).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(data.data.status){getCollectionHandler();}else{onErrorHandler(data.data.statusMessage);}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref6.apply(this,arguments);};}()).catch(function(err){onErrorHandler(\"Something went wrong , please try again\");});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function onLinkDeleteHandler(_x4){return _ref5.apply(this,arguments);};}();var onCollectionNameHandler=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(props){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios.post(config.API_URL+\"/collection/updatecollection\",{id:sessionStorage.getItem(\"id\"),collectionId:collectionId,collectionName:props}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(data.data.status){getCollectionHandler();}else{onErrorHandler(data.data.statusMessage);}case 1:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref8.apply(this,arguments);};}()).catch(function(err){onErrorHandler(\"Something went wrong , please try again\");});case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function onCollectionNameHandler(_x6){return _ref7.apply(this,arguments);};}();useEffect(function(){getCollectionHandler();});return/*#__PURE__*/_jsxs(\"div\",{className:\"outerCollectionScreen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"innerCollectionScreen\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"collectionNameH1\",children:name}),/*#__PURE__*/_jsxs(\"p\",{className:\"collectionNameH4\",children:[collectionName,access===\"granted\"&&/*#__PURE__*/_jsx(\"img\",{className:\"editIcon\",src:EditIcon,alt:\"edit icon\",onClick:function onClick(){setstate(\"update\");}})]}),access===\"granted\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"collectionButton\",onClick:function onClick(){var text=\"http://localhost:3000/collection/\".concat(collectionId);navigator.clipboard.writeText(text);onErrorHandler(\"Link copied with kind\");},children:\"Copy link!\"}),/*#__PURE__*/_jsxs(\"h4\",{className:\"countInfo\",children:[\"views:\",viewCounts]})]}),linkList.map(function(item){return/*#__PURE__*/_jsx(LinkCard,{id:item._id,link:item.link,access:access,placeHolder:item.placeHolder,onDeleteCallBack:function onDeleteCallBack(props){onLinkDeleteHandler(props);}});}),access===\"granted\"&&/*#__PURE__*/_jsx(\"div\",{className:\"outerBoxCollectionAdd\",onClick:function onClick(){setstate(\"addLink\");},children:/*#__PURE__*/_jsx(\"div\",{className:\"innerBoxCollectionAdd\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Add Link\"})})}),state===\"addLink\"&&/*#__PURE__*/_jsx(ModelUpForAdd,{onReturnCallBack:function onReturnCallBack(){setstate(null);},onSubmitCallBack:function onSubmitCallBack(props){onAddingNewLinkHandler(props);setstate(null);},onErrorCallBack:function onErrorCallBack(props){onErrorHandler(props);}}),state===\"update\"&&/*#__PURE__*/_jsx(ModelUpForUpdate,{onReturnCallBack:function onReturnCallBack(){setstate(null);},onSubmitCallBack:function onSubmitCallBack(props){onCollectionNameHandler(props);setstate(null);},onErrorCallBack:function onErrorCallBack(props){onErrorHandler(props);}})]}),errorMessage!==null&&/*#__PURE__*/_jsx(\"h1\",{className:\"errorMessageH1Collection\",children:\"\".concat(errorMessage)})]});};export default Collectionscreen;","map":{"version":3,"sources":["C:/Users/Prem/Documents/Projects/Linksite-production/src/screens/collectionScreen/collectionScreen.js"],"names":["React","useState","useEffect","axios","LinkCard","ModelUpForAdd","ModelUpForUpdate","config","Collectionscreen","props","collectionId","match","params","id","name","setName","linkList","setLinkList","access","setAccess","collectionName","setCollectionName","viewCounts","setViewCounts","errorMessage","seterrorMessage","state","setstate","onErrorHandler","data","setTimeout","getCollectionHandler","post","API_URL","sessionStorage","getItem","then","status","Links","statusMessage","catch","err","onAddingNewLinkHandler","linkName","placeHolder","link","onLinkDeleteHandler","linkId","onCollectionNameHandler","EditIcon","text","navigator","clipboard","writeText","map","item","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./collectionScreen.css\";\r\nimport EditIcon from \"./editIcon.svg\";\r\nimport LinkCard from \"../../components/LinkCard/LinkCard\";\r\nimport ModelUpForAdd from \"../../components/modelUp/modelUpForAdd\";\r\nimport ModelUpForUpdate from \"../../components/modelUp/modelUpForUpdate\";\r\nimport config from \"../../config\";\r\n\r\nconst Collectionscreen = (props) => {\r\n  const collectionId = props.match.params.id;\r\n  const [name, setName] = useState();\r\n  const [linkList, setLinkList] = useState([]);\r\n  const [access, setAccess] = useState(\"denied\");\r\n  const [collectionName, setCollectionName] = useState(\"\");\r\n  const [viewCounts, setViewCounts] = useState(0);\r\n  const [errorMessage, seterrorMessage] = useState(null);\r\n  const [state, setstate] = useState(null);\r\n  const onErrorHandler = (data) => {\r\n    seterrorMessage(data);\r\n    setTimeout(() => {\r\n      seterrorMessage(null);\r\n    }, [5000]);\r\n  };\r\n  const getCollectionHandler = async () => {\r\n    await axios\r\n      .post(config.API_URL + \"/collection/getcollection\", {\r\n        collectionId: collectionId,\r\n        ...(sessionStorage.getItem(\"id\") && {\r\n          id: sessionStorage.getItem(\"id\"),\r\n        }),\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          setAccess(data.data.access);\r\n          setName(data.data.name);\r\n          setCollectionName(data.data.collectionName);\r\n          await setLinkList([...data.data.Links]);\r\n          if (access === \"granted\") {\r\n            setViewCounts(data.data.viewCounts);\r\n          }\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n\r\n  const onAddingNewLinkHandler = async (props) => {\r\n    await axios\r\n      .post(config.API_URL + \"/collection/addlink\", {\r\n        id: sessionStorage.getItem(\"id\"),\r\n        collectionId: collectionId,\r\n        linkName: props.placeHolder,\r\n        link: props.link,\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          getCollectionHandler();\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n\r\n  const onLinkDeleteHandler = async (props) => {\r\n    await axios\r\n      .post(config.API_URL + \"/collection/removelink\", {\r\n        id: sessionStorage.getItem(\"id\"),\r\n        collectionId: collectionId,\r\n        linkId: props,\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          getCollectionHandler();\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n\r\n  const onCollectionNameHandler = async (props) => {\r\n    await axios\r\n      .post(config.API_URL + \"/collection/updatecollection\", {\r\n        id: sessionStorage.getItem(\"id\"),\r\n        collectionId: collectionId,\r\n        collectionName: props,\r\n      })\r\n      .then(async (data) => {\r\n        if (data.data.status) {\r\n          getCollectionHandler();\r\n        } else {\r\n          onErrorHandler(data.data.statusMessage);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        onErrorHandler(\"Something went wrong , please try again\");\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCollectionHandler();\r\n  });\r\n  return (\r\n    <div className=\"outerCollectionScreen\">\r\n      <div className=\"innerCollectionScreen\">\r\n        <h1 className=\"collectionNameH1\">{name}</h1>\r\n        <p className=\"collectionNameH4\">\r\n          {collectionName}\r\n          {access === \"granted\" && (\r\n            <img\r\n              className=\"editIcon\"\r\n              src={EditIcon}\r\n              alt=\"edit icon\"\r\n              onClick={() => {\r\n                setstate(\"update\");\r\n              }}\r\n            />\r\n          )}\r\n        </p>\r\n        {access === \"granted\" && (\r\n          <div className=\"infoBox\">\r\n            <button\r\n              className=\"collectionButton\"\r\n              onClick={() => {\r\n                let text = `http://localhost:3000/collection/${collectionId}`;\r\n                navigator.clipboard.writeText(text);\r\n                onErrorHandler(\"Link copied with kind\");\r\n              }}\r\n            >\r\n              Copy link!\r\n            </button>\r\n            <h4 className=\"countInfo\">views:{viewCounts}</h4>\r\n          </div>\r\n        )}\r\n        {linkList.map(function (item) {\r\n          return (\r\n            <LinkCard\r\n              id={item._id}\r\n              link={item.link}\r\n              access={access}\r\n              placeHolder={item.placeHolder}\r\n              onDeleteCallBack={(props) => {\r\n                onLinkDeleteHandler(props);\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n        {access === \"granted\" && (\r\n          <div\r\n            className=\"outerBoxCollectionAdd\"\r\n            onClick={() => {\r\n              setstate(\"addLink\");\r\n            }}\r\n          >\r\n            <div className=\"innerBoxCollectionAdd\">\r\n              <h1>Add Link</h1>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {state === \"addLink\" && (\r\n          <ModelUpForAdd\r\n            onReturnCallBack={() => {\r\n              setstate(null);\r\n            }}\r\n            onSubmitCallBack={(props) => {\r\n              onAddingNewLinkHandler(props);\r\n              setstate(null);\r\n            }}\r\n            onErrorCallBack={(props) => {\r\n              onErrorHandler(props);\r\n            }}\r\n          />\r\n        )}\r\n        {state === \"update\" && (\r\n          <ModelUpForUpdate\r\n            onReturnCallBack={() => {\r\n              setstate(null);\r\n            }}\r\n            onSubmitCallBack={(props) => {\r\n              onCollectionNameHandler(props);\r\n              setstate(null);\r\n            }}\r\n            onErrorCallBack={(props) => {\r\n              onErrorHandler(props);\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n      {errorMessage !== null && (\r\n        <h1 className=\"errorMessageH1Collection\">{`${errorMessage}`}</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collectionscreen;\r\n"]},"metadata":{},"sourceType":"module"}